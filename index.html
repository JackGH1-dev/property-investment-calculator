<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="InvestQuest - Professional Australian property investment calculator. Forecast 30-year performance, compare investments, calculate stamp duty & LMI. Perfect for mortgage brokers and investors.">
    <meta name="keywords" content="property investment calculator, Australian real estate, mortgage broker tool, stamp duty calculator, investment analysis">
    <meta property="og:title" content="InvestQuest - Australian Property Investment Calculator">
    <meta property="og:description" content="Professional property investment analysis tool. 30-year forecasts, stamp duty calculations, and investment comparisons."
    <meta property="og:type" content="website">
    <title>InvestQuest - Australian Property Investment Calculator</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üéØ</text></svg>">
</head>
<body>
    <div class="container">
        <header>
            <h1>üéØ InvestQuest</h1>
            <p>Your journey to investment success starts here ‚Äî forecast property performance over 30 years</p>
            
            <!-- Tool Explanation Section -->
            <div class="tool-explanation">
                <details class="how-it-works">
                    <summary>ü§î How does this calculator help you make better investment decisions?</summary>
                    <div class="explanation-content">
                        <div class="explanation-grid">
                            <div class="explanation-card">
                                <h4>üìä 30-Year Projections</h4>
                                <p>See exactly how your property investment will perform over 3 decades, including cash flow, equity growth, and total returns.</p>
                            </div>
                            <div class="explanation-card">
                                <h4>üí∞ Australian-Specific Calculations</h4>
                                <p>Accurate stamp duty for all states, LMI calculations, and realistic Australian market growth assumptions.</p>
                            </div>
                            <div class="explanation-card">
                                <h4>‚öñÔ∏è Investment Comparison</h4>
                                <p>Compare your property investment against high-yield savings accounts and ASX200 index funds to see which performs better.</p>
                            </div>
                            <div class="explanation-card">
                                <h4>üè¶ Flexible Financing Options</h4>
                                <p>Supports all financing scenarios from traditional 20% deposits to 100%+ financing for sophisticated investors.</p>
                            </div>
                            <div class="explanation-card">
                                <h4>üîç Live Insights Based on Your Figures</h4>
                                <p>Intelligent analysis that provides personalized recommendations and warnings based on your specific investment scenario.</p>
                            </div>
                            <div class="explanation-card">
                                <h4>üìö Educational Investment Guide</h4>
                                <p>Learn property investment fundamentals while you calculate, with comprehensive guides on metrics, risks, and strategies.</p>
                            </div>
                        </div>
                        
                        <div class="explanation-steps">
                            <h4>üìã How to Use This Tool:</h4>
                            <ol>
                                <li><strong>Enter Property Details:</strong> Start with address, purchase price, and rental income</li>
                                <li><strong>Choose Your Financing:</strong> Enter either your deposit amount or desired loan amount</li>
                                <li><strong>Review Auto-Calculations:</strong> Stamp duty and LMI are calculated automatically based on your state</li>
                                <li><strong>Adjust Assumptions:</strong> Modify growth rates, expenses, and mortgage terms to match your situation</li>
                                <li><strong>Analyze Results:</strong> Review 30-year projections, cash flow charts, and investment comparisons</li>
                            </ol>
                        </div>
                        
                        <div class="explanation-perfect-for">
                            <h4>üë• Perfect For:</h4>
                            <div class="perfect-for-grid">
                                <div><strong>üè¶ Mortgage Brokers:</strong> Professional tool for client presentations and investment advice</div>
                                <div><strong>üè† Property Investors:</strong> Detailed analysis to make informed investment decisions</div>
                                <div><strong>üíº Financial Planners:</strong> Compare property investment against other asset classes</div>
                                <div><strong>üìö First-Time Investors:</strong> Educational tool to understand property investment fundamentals</div>
                            </div>
                        </div>
                    </div>
                </details>
            </div>
        </header>

        <main class="calculator-grid">
            <!-- Left Panel - Input Form -->
            <section class="input-panel">
                <h2>Property Details</h2>
                <form id="propertyForm">
                    <div class="form-group">
                        <label for="address" class="required">Property Address</label>
                        <input type="text" id="address" placeholder="Start typing an Australian address..." required>
                        <small id="addressHelp" style="color: #666; font-size: 0.85rem;">Address autocomplete will detect your state for stamp duty calculation</small>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="state">State/Territory</label>
                            <select id="state">
                                <option value="">Select or auto-detected</option>
                                <option value="NSW">NSW</option>
                                <option value="VIC">VIC</option>
                                <option value="QLD">QLD</option>
                                <option value="SA">SA</option>
                                <option value="WA">WA</option>
                                <option value="TAS">TAS</option>
                                <option value="NT">NT</option>
                                <option value="ACT">ACT</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="isFirstHomeBuyer">First Home Buyer</label>
                            <select id="isFirstHomeBuyer">
                                <option value="false">No</option>
                                <option value="true">Yes</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="purchasePrice" class="required">Purchase Price ($)</label>
                        <input type="number" id="purchasePrice" placeholder="e.g. 750000" required>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="deposit" class="required" id="depositLabel">Deposit ($)</label>
                            <input type="number" id="deposit" placeholder="e.g. 150000" required>
                            <div class="input-mode-selector">
                                <label class="mode-option active" data-mode="deposit">
                                    <input type="radio" name="inputType" value="deposit" checked>
                                    <span>Enter deposit</span>
                                </label>
                                <label class="mode-option" data-mode="loan">
                                    <input type="radio" name="inputType" value="loan">
                                    <span>Enter loan amount</span>
                                </label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="calculatedAmount">Loan Amount ($)</label>
                            <input type="number" id="calculatedAmount" placeholder="Auto-calculated" readonly>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="rentalIncome" class="required">Weekly Rental Income ($)</label>
                            <input type="number" id="rentalIncome" placeholder="e.g. 650" required>
                        </div>
                        <div class="form-group">
                            <label for="purchaseYear" class="required">Year of Purchase</label>
                            <input type="number" id="purchaseYear" placeholder="e.g. 2025" required>
                        </div>
                    </div>

                    <h3>Upfront Costs</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="stampDuty">Stamp Duty ($)</label>
                            <input type="number" id="stampDuty" placeholder="Auto-calculated" readonly>
                            <small style="color: #667eea; font-size: 0.8rem;">Calculated based on property price and state</small>
                        </div>
                        <div class="form-group">
                            <label for="lmi">Lenders Mortgage Insurance ($)</label>
                            <input type="number" id="lmi" placeholder="Auto-calculated" readonly>
                            <div style="margin-top: 8px;">
                                <label style="font-size: 0.9rem; font-weight: normal; display: flex; align-items: center;">
                                    <input type="checkbox" id="applyLMI" checked style="margin-right: 8px;">
                                    Apply LMI when deposit < 20%
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="legalFees">Legal/Conveyancing Fees ($)</label>
                            <input type="number" id="legalFees" placeholder="e.g. 2000">
                        </div>
                        <div class="form-group">
                            <label for="buildingInspection">Building & Pest Inspection ($)</label>
                            <input type="number" id="buildingInspection" placeholder="e.g. 800">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="loanFees">Loan Application/Setup Fees ($)</label>
                            <input type="number" id="loanFees" placeholder="e.g. 1000">
                        </div>
                        <div class="form-group">
                            <!-- Placeholder for future field -->
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="otherUpfrontCosts">Other Upfront Costs ($)</label>
                            <input type="number" id="otherUpfrontCosts" placeholder="e.g. 0">
                        </div>
                        <div class="form-group">
                            <label for="totalUpfrontCosts">Total Upfront Costs ($)</label>
                            <input type="number" id="totalUpfrontCosts" readonly>
                        </div>
                    </div>

                    <h3>Annual Expenses</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="insurance">Insurance ($)</label>
                            <input type="number" id="insurance" value="1500">
                        </div>
                        <div class="form-group">
                            <label for="maintenance">Maintenance ($)</label>
                            <input type="number" id="maintenance" value="2000">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="councilRates">Council Rates ($)</label>
                            <input type="number" id="councilRates" placeholder="e.g. 2500">
                        </div>
                        <div class="form-group">
                            <label for="propertyManagement">Property Management (%)</label>
                            <input type="number" id="propertyManagement" value="7" step="0.1">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="otherExpenses">Other Annual Expenses ($)</label>
                        <input type="number" id="otherExpenses" placeholder="e.g. 0">
                    </div>

                    <h3>Mortgage Details</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="loanAmount">Loan Amount ($)</label>
                            <input type="number" id="loanAmount" readonly>
                        </div>
                        <div class="form-group">
                            <label for="interestRate">Interest Rate (% p.a.)</label>
                            <input type="number" id="interestRate" value="6.5" step="0.01">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="repaymentType">Repayment Type</label>
                            <select id="repaymentType">
                                <option value="principal-interest">Principal & Interest</option>
                                <option value="interest-only">Interest Only</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="loanTerm">Loan Term (years)</label>
                            <input type="number" id="loanTerm" value="30" min="1" max="40">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="monthlyRepayment">Monthly Repayment ($)</label>
                            <input type="number" id="monthlyRepayment" readonly>
                        </div>
                        <div class="form-group">
                            <label for="weeklyRepayment">Weekly Repayment ($)</label>
                            <input type="number" id="weeklyRepayment" readonly>
                        </div>
                    </div>

                    <h3>Growth Assumptions</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="propertyGrowth">Property Growth (% p.a.)</label>
                            <input type="number" id="propertyGrowth" value="6" step="0.1">
                        </div>
                        <div class="form-group">
                            <label for="rentalGrowth">Rental Growth (% p.a.)</label>
                            <input type="number" id="rentalGrowth" value="3" step="0.1">
                        </div>
                    </div>

                </form>

                <!-- Investment Comparison - moved to left panel for better visibility -->
                <div id="leftComparisonContainer" style="display: none;">
                    <h3>Investment Comparison</h3>
                    <div class="left-comparison-grid">
                        <div class="left-comparison-item property">
                            <h4>üè† Property Investment</h4>
                            <p id="leftPropertyReturn">-</p>
                            <small id="leftPropertyDetails">-</small>
                        </div>
                        <div class="left-comparison-item savings">
                            <h4>üí∞ High Yield Savings</h4>
                            <p id="leftSavingsReturn">-</p>
                            <small>4.5% per annum</small>
                        </div>
                        <div class="left-comparison-item asx">
                            <h4>üìà ASX200 Index</h4>
                            <p id="leftAsxReturn">-</p>
                            <small>8.0% per annum</small>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Right Panel - Results -->
            <section class="results-panel">
                <h2>30-Year Investment Forecast</h2>
                
                <!-- Investment Insights Panel -->
                <div id="insightsContainer" style="display: none;">
                    <div class="insights-panel">
                        <h3>üîç Investment Insights & Recommendations</h3>
                        <div id="insightsContent">
                            <!-- Insights will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
                
                <div id="resultsContainer">
                    <div class="welcome-message">
                        <p>üëà Enter your property details to see live 30-year investment projections</p>
                        <small>Results update automatically as you type</small>
                        <br><br>
                        <small><strong>Required:</strong> Purchase Price, Deposit, and Rental Income</small>
                    </div>
                </div>

                <!-- Charts will be inserted here -->
                <div id="chartsContainer" style="display: none;">
                    <canvas id="valueChart" width="400" height="200"></canvas>
                    <canvas id="cashflowChart" width="400" height="200"></canvas>
                </div>

            </section>
        </main>
        
        <!-- Educational Content Section -->
        <section class="education-section">
            <div class="education-container">
                <h2>üìö Property Investment Fundamentals</h2>
                <p class="education-intro">New to property investing? Here's what you need to know to make informed decisions.</p>
                
                <div class="education-grid">
                    <div class="education-card">
                        <h3>üè† Key Investment Metrics</h3>
                        <div class="education-content">
                            <div class="metric-item">
                                <strong>Rental Yield:</strong> Annual rental income √∑ property price √ó 100. Good yields in Australia are 4-6%+
                            </div>
                            <div class="metric-item">
                                <strong>LVR (Loan-to-Value Ratio):</strong> Loan amount √∑ property value √ó 100. Under 80% avoids LMI
                            </div>
                            <div class="metric-item">
                                <strong>Cash Flow:</strong> Rental income minus all expenses. Positive = property pays for itself
                            </div>
                            <div class="metric-item">
                                <strong>Capital Growth:</strong> Property value increases over time. Australian average: 6-7% per year
                            </div>
                        </div>
                    </div>

                    <div class="education-card">
                        <h3>üí∞ Understanding Investment Returns</h3>
                        <div class="education-content">
                            <div class="return-item">
                                <strong>Total Return = Capital Growth + Cash Flow</strong>
                                <p>Property investing generates wealth through both property value increases and rental income over time.</p>
                            </div>
                            <div class="return-item">
                                <strong>Leverage Amplifies Returns</strong>
                                <p>Using borrowed money (mortgage) means a 6% property growth on a $750k property with $150k deposit gives you 30% return on your cash invested.</p>
                            </div>
                            <div class="return-item">
                                <strong>Tax Benefits (Negative Gearing)</strong>
                                <p>If property expenses exceed rental income, you may claim tax deductions on the loss.</p>
                            </div>
                        </div>
                    </div>

                    <div class="education-card">
                        <h3>‚ö†Ô∏è Key Risks to Consider</h3>
                        <div class="education-content">
                            <div class="risk-item">
                                <strong>Market Risk:</strong> Property values can fall, especially in economic downturns
                            </div>
                            <div class="risk-item">
                                <strong>Interest Rate Risk:</strong> Rising rates increase mortgage costs and reduce cash flow
                            </div>
                            <div class="risk-item">
                                <strong>Vacancy Risk:</strong> Periods without tenants mean no rental income but ongoing expenses
                            </div>
                            <div class="risk-item">
                                <strong>Liquidity Risk:</strong> Property can't be sold as quickly as shares or other assets
                            </div>
                        </div>
                    </div>

                    <div class="education-card">
                        <h3>üéØ Investment Strategy Tips</h3>
                        <div class="education-content">
                            <div class="tip-item">
                                <strong>Location, Location, Location:</strong> Buy in areas with strong fundamentals - population growth, infrastructure, employment
                            </div>
                            <div class="tip-item">
                                <strong>Start Conservative:</strong> Begin with 20%+ deposit to avoid LMI and reduce risk
                            </div>
                            <div class="tip-item">
                                <strong>Budget for Vacancies:</strong> Assume 2-4 weeks vacancy per year when calculating cash flow
                            </div>
                            <div class="tip-item">
                                <strong>Professional Advice:</strong> Consult mortgage brokers, buyers agents, and tax accountants
                            </div>
                        </div>
                    </div>

                    <div class="education-card">
                        <h3>üìä Australian Market Context</h3>
                        <div class="education-content">
                            <div class="context-item">
                                <strong>Historical Performance:</strong> Australian property has averaged 6-7% annual growth over decades
                            </div>
                            <div class="context-item">
                                <strong>Stamp Duty Varies:</strong> Each state has different rates - NSW and VIC are highest
                            </div>
                            <div class="context-item">
                                <strong>First Home Buyer Benefits:</strong> Many states offer stamp duty concessions
                            </div>
                            <div class="context-item">
                                <strong>LMI Threshold:</strong> Most lenders require LMI when borrowing more than 80% of property value
                            </div>
                        </div>
                    </div>

                    <div class="education-card">
                        <h3>üè¶ Financing Options Explained</h3>
                        <div class="education-content">
                            <div class="financing-item">
                                <strong>Principal & Interest (P&I):</strong> Pay down loan principal and interest. Builds equity faster.
                            </div>
                            <div class="financing-item">
                                <strong>Interest Only (IO):</strong> Pay only interest for 1-10 years. Maximizes cash flow and tax deductions.
                            </div>
                            <div class="financing-item">
                                <strong>100%+ Financing:</strong> Borrow full purchase price plus costs. Higher risk but maximum leverage.
                            </div>
                            <div class="financing-item">
                                <strong>Fixed vs Variable:</strong> Fixed rates provide certainty, variable rates may be lower initially.
                            </div>
                        </div>
                    </div>
                </div>

                <div class="education-disclaimer">
                    <h4>‚öñÔ∏è Important Disclaimer</h4>
                    <p>This calculator provides estimates based on assumptions and should not be considered financial advice. Property investment carries risks including potential losses. Past performance does not guarantee future results. Always consult qualified professionals including mortgage brokers, financial advisers, tax accountants, and solicitors before making investment decisions. Consider your personal financial situation, investment objectives, and risk tolerance.</p>
                </div>
            </div>
        </section>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // Configuration - API key removed for security
        // Note: Add your new API key here temporarily after securing it
        const CONFIG = {
            GOOGLE_PLACES_API_KEY: 'AIzaSyC_fRFyNMui41ZJV9ZrDvlGA074M6RMajI',
            PLACES_API: {
                componentRestrictions: { country: 'au' },
                types: ['address']
            }
        };
        window.CONFIG = CONFIG;

        // Load Google Places API dynamically with API key
        function loadGooglePlacesAPI() {
            if (window.CONFIG && window.CONFIG.GOOGLE_PLACES_API_KEY && window.CONFIG.GOOGLE_PLACES_API_KEY !== 'YOUR_API_KEY_HERE') {
                console.log('Loading Google Places API...');
                const script = document.createElement('script');
                script.src = `https://maps.googleapis.com/maps/api/js?key=${window.CONFIG.GOOGLE_PLACES_API_KEY}&libraries=places&callback=initGooglePlaces`;
                script.async = true;
                script.defer = true;
                script.onerror = function() {
                    console.error('Failed to load Google Maps API. Check your API key and restrictions.');
                };
                document.head.appendChild(script);
            } else {
                console.warn('Google Places API key not configured properly');
            }
        }
        
        // Initialize Google Places when API loads
        function initGooglePlaces() {
            console.log('Google Places API loaded successfully');
            if (window.propertyCalculator) {
                window.propertyCalculator.initGooglePlaces();
            } else {
                console.warn('Property calculator not yet initialized');
            }
        }
        
        // Load API after DOM is ready
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(loadGooglePlacesAPI, 100); // Small delay to ensure calculator is ready
        });
    </script>
    <script src="script.js"></script>
</body>
</html>